---
title: "フロントエンドにおけるTDD"
emoji: "🙌"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["react"]
published: false
---

## フロントエンドでのテスト戦略

## TDD とは

## フロントエンドにおける TDD

## React Testing Library

## サンプル

## メモ [temp]

### フロントエンドでのテストとは

Kent はまず自身のコードベースからテストを以下の様に分類した。

ここでの各用語の意味は以下の様になっている

- E2E テスト
  - 可能な限り（できれば一切）モックを使用せずに、ソフトウェアの振る舞いを検証する
- インテグレーションテスト
  - 複数のコンポーネントを連携させてテストを行う
- 単体テスト
  - 依存関係のないコンポーネントやモックされたコンポーネントを使用してテストを行う

https://twitter.com/kentcdodds/status/960723172591992832

> なぜテスティングトロフィーが考え出されたのか。

テスティングトロフィーはそのまま使用するのではなく、自身のプロジェクトの状況やコードベースのコードをもとに分類していく必要がある。

そして、RTL の指針にも従って記述していく必要がある。つまり、`ユーザーがソフトウェアを使用するようにテストを行う` ことである。

### どのようなテストを書くべき？

テストを書く際に重要なことは、テストを書くことでプロジェクトにバグがないことをどの程度確信できるのかということ。

TypeScript と ESlint を使用することで、静的型つきツールは高い信頼性を誇っているが、ビジネスロジックにバグがないわけではない。

テストカバレッジ 100％は無駄でり、テストする必要のないものもテストするために時間を費やす必要が発生する。

テストの種類にはそれぞれの項目でトレードオフが存在している。E2E により近いテストでは、本物に近いソフトウェアをテストすることができるため、信頼度は高くなる。これはレガシーコード改善ガイドでも示されていることである。

Martin Fawler もテストピラミッドに対して、前提を置いており、高レベルのテストが高速で信頼性があり、変更容易性がある老婆愛には低レベルのテストは不要であると宣言している。

RTL や MSW はこれを実現している。

より多くの結合テストを記述するためには、あまり多くのものをモックすることを避けることである。何かをモックするということは、自分がモックしているものとモックされているものとの間の統合の信頼性を失ったしまうことになる。

モックはあくまでも開発者の期待を記述しているだけであり、実際のソフトウェアの挙動をテストしているわけではない点に注意が必要である。

## 参考資料

- [The Testing Trophy and Testing Classifications](https://kentcdodds.com/blog/the-testing-trophy-and-testing-classifications)
- [Write tests. Not too many. Mostly integration.](https://kentcdodds.com/blog/write-tests)
- [フロントエンドで TDD を実践する（理論編）](https://qiita.com/taneba/items/48db2ad9cf10ad644908)
- [フロントエンドで TDD を実践する（react-testing-library を使った実践編）](https://qiita.com/taneba/items/b21f5fee17eb593b30c8)
